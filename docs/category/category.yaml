paths:
  /categories:
    get:
      security:
        - bearerAuth: []
      tags:
        - Categories
      summary: Find all categories
      description: Finds and returns an array with a list of categories which have at least one subject
      produces:
        - application/json
      parameters:
        - in: query
          name: match
          schema:
            type: string
          required: false
        - in: query
          name: skip
          schema:
            type: string
          required: false
        - in: query
          name: limit
          schema:
            type: string
          required: false
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/definitions/categories'
              examples:
                example1:
                  value:
                    items:
                      - _id: 64884f7afdc2d1a130c24ace
                        name: Painting
                        appearance:
                          icon_path: painting.svg
                          color: '#79B260'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.593Z
                        updatedAt: 2024-05-15T09:57:42.593Z
                      - _id: 64884f83fdc2d1a130c24ad0
                        name: Finances
                        appearance:
                          icon_path: finances.svg
                          color: '#F1BC17'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.572Z
                        updatedAt: 2024-05-15T09:57:42.572Z
                      - _id: 64884fe3fdc2d1a130c24adc
                        name: Psychology
                        appearance:
                          icon_path: psychology.svg
                          color: '#CD4EAC'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.370Z
                        updatedAt: 2024-05-15T09:57:42.370Z
                      - _id: 64884fc3fdc2d1a130c24ada
                        name: Physics
                        appearance:
                          icon_path: physics.svg
                          color: '#F18D17'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.364Z
                        updatedAt: 2024-05-15T09:57:42.364Z
                      - _id: 64884fb0fdc2d1a130c24ad8
                        name: Astronomy
                        appearance:
                          icon_path: astronomy.svg
                          color: '#00A7A7'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.358Z
                        updatedAt: 2024-05-15T09:57:42.358Z
                      - _id: 64884fa2fdc2d1a130c24ad6
                        name: Chemistry
                        appearance:
                          icon_path: chemistry.svg
                          color: '#B35969'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.352Z
                        updatedAt: 2024-05-15T09:57:42.352Z
                      - _id: 64884f8efdc2d1a130c24ad2
                        name: Marketing
                        appearance:
                          icon_path: marketing.svg
                          color: '#1784F1'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.345Z
                        updatedAt: 2024-05-15T09:57:42.345Z
                      - _id: 64884f98fdc2d1a130c24ad4
                        name: Audit
                        appearance:
                          icon_path: audit.svg
                          color: '#EF4F61'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.341Z
                        updatedAt: 2024-05-15T09:57:42.341Z
                      - _id: 64884f70fdc2d1a130c24acc
                        name: Biology
                        appearance:
                          icon_path: biology.svg
                          color: '#5A8088'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.337Z
                        updatedAt: 2024-05-15T09:57:42.337Z
                      - _id: 64884f66fdc2d1a130c24aca
                        name: History
                        appearance:
                          icon_path: history.svg
                          color: '#EF4257'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.331Z
                        updatedAt: 2024-05-15T09:57:42.331Z
                      - _id: 64884f21fdc2d1a130c24ac0
                        name: Languages
                        appearance:
                          icon_path: languages.svg
                          color: '#7BB362'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.326Z
                        updatedAt: 2024-05-15T09:57:42.326Z
                      - _id: 64884f59fdc2d1a130c24ac8
                        name: Design
                        appearance:
                          icon_path: design.svg
                          color: '#00A7A7'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.319Z
                        updatedAt: 2024-05-15T09:57:42.319Z
                      - _id: 64884fedfdc2d1a130c24ade
                        name: Computer science
                        appearance:
                          icon_path: computer_science.svg
                          color: '#5A8088'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.312Z
                        updatedAt: 2024-05-15T09:57:42.312Z
                      - _id: 64884f4dfdc2d1a130c24ac6
                        name: Music
                        appearance:
                          icon_path: music.svg
                          color: '#B35969'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.309Z
                        updatedAt: 2024-05-15T09:57:42.309Z
                      - _id: 64884f33fdc2d1a130c24ac2
                        name: Mathematics
                        appearance:
                          icon_path: mathematics.svg
                          color: '#F2BE22'
                        totalOffers: { student: 0, tutor: 0 }
                        createdAt: 2024-05-15T09:57:42.301Z
                        updatedAt: 2024-05-15T09:57:42.301Z
                    count: 15
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
    post:
      security:
        - bearerAuth: []
      tags:
        - Category
      summary: Create new category.
      description: Saves a new category to the database.
      produces:
        - application/json
      requestBody:
        required: true
        description: Create new category.
        content:
          application/json:
            schema:
              $ref: '#/definitions/categoryBody'
            example:
              name: Languages
              categoryIcon:
                path: categories-icons/link-to-icon.png
                color: '#66C42C'
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/definitions/categories'
              example:
                _id: 6255bc080a71adf9223df136
                name: Languages
                categoryIcon:
                  path: categories-icons/link-to-icon.png
                  color: '#66C42C'
                totalOffers: { student: 10, tutor: 8 }
                createdAt: 2023-20-01T13:25:36.292Z
                updatedAt: 2023-20-01T13:25:36.292Z
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
        409:
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 409
                code: CATEGORY_ALREADY_EXISTS
                message: Category with the specified name already exists.
  /categories/{id}/subjects/names:
    get:
      security:
        - bearerAuth: []
      tags:
        - Categories
      summary: Find subjects' names for category
      description: Finds and returns subjects' names for category with specified ID.
      produces:
        - application/json
      parameters:
        - name: id
          in: path
          required: true
          description: ID of category
          type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/definitions/categories'
              example:
                - _id: 64045f98b131dd04d7896af6
                  name: Guitar
                - _id: 64045f99b131dd02d9476af1
                  name: Piano
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 400
                code: INVALID_ID
                message: ID is invalid.
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
  /categories/{id}:
    get:
      security:
        - bearerAuth: []
      tags:
        - Categories
      summary: Find category by ID
      description: Finds and returns a category with specified ID.
      produces:
        - application/json
      parameters:
        - name: id
          in: path
          required: true
          description: ID of needed category
          type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/definitions/categories'
              example:
                _id: 64045f98b131dd04d7896af6
                name: Languages
                categoryIcon:
                  path: categories-icons/link-to-icon.png
                  color: '#66c42c'
                totalOffers: { student: 10, tutor: 8 }
                createdAt: 2023-20-01T13:25:36.292Z
                updatedAt: 2023-20-01T13:25:36.292Z
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 400
                code: INVALID_ID
                message: ID is invalid.
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 404
                code: DOCUMENT_NOT_FOUND
                message: Category with the specified id was not found.
  /categories/{categoryId}/subject/{subjectId}/price-range:
    get:
      security:
        - bearerAuth: []
      tags:
        - Offers
      summary: Find and return min and max price.
      description: Find and return min and max prices of offers in accordance with specific role.
      produces:
        - application/json
      parameters:
        - name: query
          in: path
          required: true
          description: The query with the role "?authorRole=tutor" or "?authorRole=student"
          type: string
          enum:
            - student
            - tutor
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/definitions/offer'
              example:
                minPrice: 300
                maxPrice: 500
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 404
                code: NOT_FOUND
                message: The requested URL was not found.
  /categories/{id}/subjects:
    get:
      security:
        - bearerAuth: []
      tags:
        - Categories
      summary: Find subjects by category
      description: Finds and returns subjects by specified category ID.
      produces:
        - application/json
      parameters:
        - name: id
          in: path
          required: true
          description: ID of category
          type: string
        - in: query
          name: name
          schema:
            type: string
          required: false
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/definitions/categories'
              example:
                - _id: 6422dbb9823be47b41eeb8d6
                  name: bass
                  category: 6421ed8ed991d46a84721dfa
                  totalOffers: { student: 10, tutor: 8 }
                  createdAt: 2023-20-01T13:25:36.292Z
                  updatedAt: 2023-20-01T13:25:36.292Z
                - _id: 6422d995d898aa732d038e8f
                  name: guitar
                  category: 6421ed8ed991d46a84721dfa
                  totalOffers: { student: 10, tutor: 8 }
                  createdAt: 2023-20-01T13:25:36.292Z
                  updatedAt: 2023-20-01T13:25:36.292Z
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 400
                code: INVALID_ID
                message: ID is invalid.
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
